# Discord 聊天導出器

一個 Chrome 擴充功能，可將 Discord 網頁版對話匯出為 PDF 或 Markdown 格式。

## 功能特色

- **自定義起點**：選擇任意訊息作為導出的起始點
- **自動滾動**：自動向下滾動以擷取從選定點到最新訊息的所有內容
- **PDF 導出**：匯出保留完整樣式、圖片和頭像的聊天記錄
- **Markdown 導出**：以乾淨的 Markdown 格式匯出聊天記錄
- **媒體支援**：在導出中包含圖片和用戶頭像
- **時間戳記**：可選擇是否包含訊息時間戳記
- **表情回應**：可選擇是否包含訊息的表情回應
- **僅聊天內容**：只匯出聊天內容，不包含頻道列表和用戶側邊欄

## 安裝方式

### 從原始碼安裝（開發者模式）

1. 下載或複製此專案
2. 開啟 Chrome 並前往 `chrome://extensions/`
3. 在右上角啟用「開發者模式」
4. 點擊「載入未封裝項目」並選擇擴充功能資料夾
5. Discord 聊天導出器圖示應該會出現在您的工具列中

## 使用方式

### 基本導出

1. 前往 Discord 網頁版 (https://discord.com)
2. 開啟您想要導出的頻道
3. 點擊 Discord 聊天導出器擴充功能圖示
4. 點擊「選擇起始訊息」，然後點擊您想要開始導出的訊息
5. 選擇您的導出選項（圖片、頭像、時間戳記、表情回應）
6. 點擊「匯出為 PDF」或「匯出為 Markdown」

### 快速導出（右鍵選單）

1. 在 Discord 中的任何訊息上點擊右鍵（直接使用 Discord 的原生右鍵選單）
2. 您會看到新增的選項：「Set Start Point」和「Set End Point」
3. 點擊即可標記，無需開啟擴充功能面板

### 鍵盤快捷鍵

- 按 `ESC` 取消選擇模式

## 導出選項

| 選項 | 說明 |
|------|------|
| 包含圖片 | 在導出中嵌入訊息圖片 |
| 包含頭像 | 顯示用戶頭像 |
| 包含時間戳記 | 在每條訊息中添加日期/時間 |
| 包含表情回應 | 包含訊息上的表情回應 |

## 檔案格式

### PDF 導出
- 開啟列印預覽視窗以儲存為 PDF
- 保留完整的 Discord 風格樣式
- 圖片和頭像以 base64 格式嵌入
- 使用瀏覽器的「另存為 PDF」選項

### Markdown 導出
- 直接下載 `.md` 檔案
- 保留圖片連結
- 與任何 Markdown 檢視器相容
- 適合存檔或匯入到其他平台

## 注意事項

- 此擴充功能僅在 `discord.com` 上運作
- 大量導出可能需要較長時間來處理圖片
- 請確保您有權限導出您要存檔的對話
- 此擴充功能依賴 Discord 的 DOM 結構；Discord 介面更新可能需要擴充功能更新

## 隱私

- 所有處理都在您的瀏覽器本地完成
- 不會將任何資料發送到外部伺服器
- 圖片在本地轉換為 base64 以進行 PDF 導出

## 疑難排解

### 訊息未載入
- 在開始導出前等待 Discord 完全載入
- 嘗試先滾動瀏覽聊天記錄以確保訊息已載入

### PDF 導出問題
- 如果圖片未顯示，嘗試減少訊息數量
- 某些圖片 CDN 網址可能會過期；請在瀏覽後及時導出

### 選擇功能無法運作
- 重新整理 Discord 頁面
- 確保擴充功能已正確載入

## 專案結構

```
discord-chat-exporter/
├── manifest.json          # Chrome 擴充功能清單
├── popup.html             # 擴充功能彈出視窗 UI
├── popup.css              # 彈出視窗樣式
├── popup.js               # 彈出視窗邏輯
├── content.js             # 與 Discord 互動的內容腳本
├── content-styles.css     # 注入 Discord 的樣式
├── background.js          # Service Worker
└── icons/                 # 擴充功能圖示
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 授權

MIT 授權 - 歡迎自由修改和分發。
